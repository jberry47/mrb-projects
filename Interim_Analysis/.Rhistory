setwd("C:/Users/mrberry2/Desktop/GitHub/mrb-projects/Interim_Analysis")
library(ggplot2)
library(bayesianUtils)
dat <- read.csv("data/interim_data.csv")
head(dat)
str(dat)
p <- ggplot(dat,aes(hrs_2nd_normal))+
geom_density(aes(fill=treatment_group),alpha=0.5)
p
my_priors <- list(m = c(mean(dat$hrs_2nd_normal[dat$treatment_group == "Y"]), mean(dat$hrs_2nd_normal[dat$treatment_group == "Z"])), n = c(1, 1), s2 = c(var(dat$hrs_2nd_normal[dat$treatment_group == "Y"]), var(dat$hrs_2nd_normal[dat$treatment_group == "Z"])))
res <- bayes_normal(
sample1 = dat$hrs_2nd_normal[dat$treatment_group == "Y"],
sample2 = dat$hrs_2nd_normal[dat$treatment_group == "Z"],
priors = my_priors,
rope_int = c(-24,24),
plot = T
)
res
the_answer <- mean(as.numeric(unlist(lapply(sim,function(i) i$summary["ROPE_perc"]))))
the_answer
